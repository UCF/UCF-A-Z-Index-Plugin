var $resourceLinkCards,$UcfResourceDirectoryItems,_this=this,PostTypeSearchDataManager={searches:[],register:function(e){this.searches.push(e)}},PostTypeSearchData=function(e,t,n){_this.column_count=e,_this.column_width=t,_this.data=n},resourceSearch=function(w){w(".resource-search").each(function(e,t){var n,u,l,d,r=w(t),s=r.find(".resource-search-form"),a=s.find('input[type="text"]'),f=(s.find(".working"),r.find(".resource-search-results")),i=r.find(".resource-search-term"),h=r.find(".resource-search-alpha"),c=r.find(".resource-search-sorting"),o=c.find("button:eq(0)"),p=c.find("button:eq(1)"),m=null,v=null;if(void 0===(n=PostTypeSearchDataManager.searches[e]))return!1;if(u=n.data,l=n.column_count,d=n.column_width,0===l||""===d)return!1;function g(e){f.empty(),f.append(w('<p class="resource-search-message"><big>'+e+"</big></p>")),f.show()}o.click(function(){h.fadeOut("fast",function(){i.fadeIn(),p.removeClass("active"),o.addClass("active")})}),p.click(function(){i.fadeOut("fast",function(){h.fadeIn(),o.removeClass("active"),p.addClass("active")})}),s.submit(function(e){e.preventDefault(),function(r){var s=[],a=[],e=null,t=[],i=0;if(r.length<2)return f.empty(),f.hide();if(w.each(u,function(n,e){w.each(e,function(e,t){if(-1!==t.toLowerCase().indexOf(r.toLowerCase()))return s.push(n),!1})}),0===s.length)g("No results were found.");else if(w.each(s,function(e,t){var n=h.find('li[data-post-id="'+t+'"]:eq(0)'),r=parseInt(t,10);i+=r,1===n.length&&a.push(n.clone())}),0===a.length)g("No results were found.");else if(i!==v){f.empty(),v=i,e=Math.ceil(a.length/l);for(var n=0;n<l;n++){var c=n*e,o=c+e;a.length>c&&(t[n]=a.slice(c,o))}f.append(w('<div class="row"></div>')),w.each(t,function(e,t){var n=w('<div class="'+d+'"><ul class="resource-search-result-list"></ul></div>'),r=n.find("ul");w.each(t,function(e,t){r.append(w(t))}),f.find('div[class="row"]').append(n)}),f.show()}}(a.val())}),a.keyup(function(){null!==m&&clearTimeout(m),m=setTimeout(function(){s.trigger("submit")},300)})})},setDisabledJumpLinks=function(n){$links=n(".jump-to-list").find("a"),n.each($links,function(e,t){0===n(n(t).attr("href")).length&&n(t).addClass("disabled")},_this)};function scrollToElement(e){e.offset()&&$([document.documentElement,document.body]).animate({scrollTop:e.offset().top-20},1e3)}function filterCards(e){e.preventDefault();var t=window.location.hash;t&&-1!==t.indexOf("#filter-")&&("#filter-all"===t?$resourceLinkCards.show():(t=t.replace("#",""),$resourceLinkCards.show().not("."+t).hide()),scrollToElement($UcfResourceDirectoryItems))}var addEventHandlers=function(e){e(window).on("hashchange load",filterCards)};"undefined"!=typeof jQuery&&jQuery(document).ready(function(e){$UcfResourceDirectoryItems=e(".ucf-resource-directory-items"),$resourceLinkCards=$UcfResourceDirectoryItems.find(".card-wrapper"),resourceSearch(e),setDisabledJumpLinks(e),addEventHandlers(e)});