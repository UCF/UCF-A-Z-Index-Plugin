var $resourceLinkCards,$UcfResourceDirectoryItems,_this=this,PostTypeSearchDataManager={searches:[],register:function(e){this.searches.push(e)}},PostTypeSearchData=function(e,n,t){_this.column_count=e,_this.column_width=n,_this.data=t},resourceSearch=function(w){w(".resource-search").each(function(e,n){var t,u,d,l,r=w(n),s=r.find(".resource-search-form"),a=s.find('input[type="text"]'),f=(s.find(".working"),r.find(".resource-search-results")),c=r.find(".resource-search-term"),h=r.find(".resource-search-alpha"),i=r.find(".resource-search-sorting"),o=i.find("button:eq(0)"),p=i.find("button:eq(1)"),m=null,v=null;if(void 0===(t=PostTypeSearchDataManager.searches[e]))return!1;if(u=t.data,d=t.column_count,l=t.column_width,0===d||""===l)return!1;function g(e){f.empty(),f.append(w('<p class="resource-search-message"><big>'+e+"</big></p>")),f.show()}o.click(function(){h.fadeOut("fast",function(){c.fadeIn(),p.removeClass("active"),o.addClass("active")})}),p.click(function(){c.fadeOut("fast",function(){h.fadeIn(),o.removeClass("active"),p.addClass("active")})}),s.submit(function(e){e.preventDefault(),function(r){var s=[],a=[],e=null,n=[],c=0;if(r.length<2)return f.empty(),f.hide();if(w.each(u,function(t,e){w.each(e,function(e,n){if(-1!==n.toLowerCase().indexOf(r.toLowerCase()))return s.push(t),!1})}),0===s.length)g("No results were found.");else if(w.each(s,function(e,n){var t=h.find('li[data-post-id="'+n+'"]:eq(0)'),r=parseInt(n,10);c+=r,1===t.length&&a.push(t.clone())}),0===a.length)g("No results were found.");else if(c!==v){f.empty(),v=c,e=Math.ceil(a.length/d);for(var t=0;t<d;t++){var i=t*e,o=i+e;a.length>i&&(n[t]=a.slice(i,o))}f.append(w('<div class="row"></div>')),w.each(n,function(e,n){var t=w('<div class="'+l+'"><ul class="resource-search-result-list"></ul></div>'),r=t.find("ul");w.each(n,function(e,n){r.append(w(n))}),f.find('div[class="row"]').append(t)}),f.show()}}(a.val())}),a.keyup(function(){null!==m&&clearTimeout(m),m=setTimeout(function(){s.trigger("submit")},300)})})},setDisabledJumpLinks=function(t){$links=t(".jump-to-list").find("a"),t.each($links,function(e,n){0===t(t(n).attr("href")).length&&t(n).addClass("disabled")},_this)};function scrollToElement(e){$([document.documentElement,document.body]).animate({scrollTop:e.offset().top-20},1e3)}function filterCards(e){e.preventDefault();var n=window.location.hash;n&&"#top"!==n&&("#all"===n?$resourceLinkCards.show():(n=n.replace("#",""),$resourceLinkCards.show().not("."+n).hide()),scrollToElement($UcfResourceDirectoryItems))}var addEventHandlers=function(e){e(window).on("hashchange load",filterCards)};"undefined"!=typeof jQuery&&jQuery(document).ready(function(e){$UcfResourceDirectoryItems=e(".ucf-resource-directory-items"),$resourceLinkCards=$UcfResourceDirectoryItems.find(".card-wrapper"),resourceSearch(e),setDisabledJumpLinks(e),addEventHandlers(e)});